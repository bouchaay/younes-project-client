<section class="change-password-section">
  <div class="change-password-container">
    <h2>ğŸ”‘ Changer le mot de passe</h2>

    <form (ngSubmit)="onChangePassword()">
      <!-- ğŸ”¹ Nouveau mot de passe -->
      <div class="form-group">
        <label for="newPassword">Nouveau mot de passe</label>
        <div class="password-container">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            id="newPassword" 
            [(ngModel)]="newPassword" 
            name="newPassword" 
            (input)="validatePassword()" 
            required>
          <i class="toggle-password" (click)="togglePasswordVisibility()">
            {{ showPassword ? 'ğŸ‘' : 'ğŸ™ˆ' }}
          </i>
        </div>

        @if (newPassword.length > 0 && newPassword.length < 6) {
          <small class="error">
            âš ï¸ Le mot de passe doit contenir au moins 6 caractÃ¨res.
          </small>
        }
      </div>

      <!-- ğŸ”¹ Confirmation du mot de passe -->
      <div class="form-group">
        <label for="confirmPassword">Confirmer le nouveau mot de passe</label>
        <div class="password-container">
          <input 
            [type]="showConfirmPassword ? 'text' : 'password'" 
            id="confirmPassword" 
            [(ngModel)]="confirmPassword" 
            name="confirmPassword" 
            (input)="validatePassword()" 
            required>
          <i class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
            {{ showConfirmPassword ? 'ğŸ‘' : 'ğŸ™ˆ' }}
          </i>
        </div>

        @if (confirmPassword.length > 0 && confirmPassword !== newPassword) {
          <small class="error">
            âš ï¸ Les mots de passe ne correspondent pas.
          </small>
        }
      </div>

      <button type="submit" class="submit-btn" [disabled]="!isFormValid()">Mettre Ã  jour</button>
    </form>

    <!-- âœ… Message de succÃ¨s -->
    @if (successMessage) {
      <div class="success-message">{{ successMessage }}</div>
    }

    <!-- âŒ Message d'erreur -->
    @if (errorMessage) {
      <div class="error-message">{{ errorMessage }}</div>
    }
  </div>
</section>
